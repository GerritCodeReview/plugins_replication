{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8e3b2bd4_2adac657",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/Destination.java",
        "patchSetId": 24
      },
      "lineNbr": 460,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2023-04-08T18:58:46Z",
      "side": 1,
      "message": "Unfortunately, normalizeBranchName() does not guarantee uniqueness and it could map multiple projects to the same name. Alone it likely is not safe for this purpose. Also the docs say that it can even return non valid refspecs, that the output needs to be retested for validity. ðŸ˜ž I don\u0027t know what you are supposed to do if it is not valid?\n\nPersonally, I do like that normalizeBranchName() at least looks like the original project name versus something like 64encoding which makes the project unrecognizable. I don\u0027t think you should have to provide a perfect solution, but I do think that as a minimum bar we need to ensure uniqueness.\n\nSince you are the user for this feature, I think you should be able to determined what \"pretty enough\" is, so if you would be happy with something like base64 encoding, that would likely be good enough. bas64 encoding would  be reversible, if you don\u0027t need that, a sha1 could be used. Also, you could potentially use something like a combination of semi human readable, like using normalizeBranchName() (and checking for validity), and then appending or prepending either a sha1, or base64 (if you need reverse ability). Making it pretty (human readable) should not be something required in this change and I believe should be acceptable in later changes if someone desires.it.",
      "range": {
        "startLine": 460,
        "startChar": 45,
        "endLine": 460,
        "endChar": 64
      },
      "revId": "c847b714453f5812a221ad09a6cf2892d0432c4b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09272969_85d1e20b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/Destination.java",
        "patchSetId": 24
      },
      "lineNbr": 460,
      "author": {
        "id": 1040243
      },
      "writtenOn": "2023-04-08T19:18:47Z",
      "side": 1,
      "message": "\u003e Also the docs say that it can even return non valid refspecs, that the output needs to be retested for validity. ðŸ˜ž I don\u0027t know what you are supposed to do if it is not valid?\n\nyes, I saw this note, it does not make much sense ðŸ˜Š\n\nReversible is important as the changeid is not unique any more... so in order to post back to gerrit the CI result we need project name and change id.\n\nI think it was a mistake not to add the project name into `changes/` reference so within the refname you get all the information required to call back.\n\nI can probably modify this to base64 for now, I will be glad to receive any other comments so I can fix all.",
      "parentUuid": "8e3b2bd4_2adac657",
      "range": {
        "startLine": 460,
        "startChar": 45,
        "endLine": 460,
        "endChar": 64
      },
      "revId": "c847b714453f5812a221ad09a6cf2892d0432c4b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2aca6ff_bf539946",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/Destination.java",
        "patchSetId": 24
      },
      "lineNbr": 460,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2023-04-08T19:33:45Z",
      "side": 1,
      "message": "\u003e Reversible is important as the changeid is not unique any more... \n\nI don\u0027t think this is true, and you are pointing out one more reason why making this true would not work very well.",
      "parentUuid": "09272969_85d1e20b",
      "range": {
        "startLine": 460,
        "startChar": 45,
        "endLine": 460,
        "endChar": 64
      },
      "revId": "c847b714453f5812a221ad09a6cf2892d0432c4b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4917e7f4_4494173e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/Destination.java",
        "patchSetId": 24
      },
      "lineNbr": 460,
      "author": {
        "id": 1040243
      },
      "writtenOn": "2023-04-08T19:37:11Z",
      "side": 1,
      "message": "\"Import Projectsâ€™ Changes from other Gerrit servers\"\n\nhttps://www.gerritcodereview.com/3.7.html#import-projects-changes-from-other-gerrit-servers\n\nhttps://gerrit.googlesource.com/summit/2022/+/refs/heads/master/sessions/import-gerrit-projects-across-servers.md",
      "parentUuid": "c2aca6ff_bf539946",
      "range": {
        "startLine": 460,
        "startChar": 45,
        "endLine": 460,
        "endChar": 64
      },
      "revId": "c847b714453f5812a221ad09a6cf2892d0432c4b",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ],
  "submitRequirementResults": [
    {
      "submitRequirement": {
        "name": "Code-Review",
        "description": {
          "value": "At least one maximum vote for label \u0027Code-Review\u0027 is required"
        },
        "applicabilityExpression": {},
        "submittabilityExpression": {
          "expressionString": "label:Code-Review\u003dMAX,user\u003dnon_uploader AND -label:Code-Review\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {},
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Code-Review=MAX,user=non_uploader AND -label:Code-Review=MIN"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["label:Code-Review=MAX,user=non_uploader","label:Code-Review=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "c847b714453f5812a221ad09a6cf2892d0432c4b",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Do-Not-Submit",
        "description": {
          "value": "Changes that have DO NOT SUBMIT in their commit message are not submittable."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:false"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["message:\"^.*(D|d)(O|o) (N|n)(O|o)(T|t) (S|s)(U|u)(B|b)(M|m)(I|i)(T|t).*\""]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:false"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "c847b714453f5812a221ad09a6cf2892d0432c4b",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "No-Unresolved-Comments",
        "description": {
          "value": "Changes that have unresolved comments are not submittable. Unless overriden by adding the hashtag allow-unresolved-comments."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "has:unresolved"
          }
        },
        "submittabilityExpression": {
          "expressionString": "-has:unresolved"
        },
        "overrideExpression": {
          "value": {
            "expressionString": "hashtag:allow-unresolved-comments"
          }
        },
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"has:unresolved"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["has:unresolved"],"failingAtoms":[]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-has:unresolved"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":["has:unresolved"],"failingAtoms":[]}
      },
      "overrideExpressionResult": {
        "value": {"expression":{"expressionString":"hashtag:allow-unresolved-comments"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["hashtag:allow-unresolved-comments"]}
      },
      "patchSetCommitId": "c847b714453f5812a221ad09a6cf2892d0432c4b",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Review-Enforcement",
        "description": {
          "value": "Two Google employees must approve the change. Uploading the change or voting positively on Code-Review count as approval."
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "is:review-enforced_gerrit"
          }
        },
        "submittabilityExpression": {
          "expressionString": "is:review-enforcement-satisfied_gerrit"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": false
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforced_gerrit"},"status":"FAIL","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["is:review-enforced_gerrit"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"is:review-enforcement-satisfied_gerrit"},"status":"NOT_EVALUATED","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":[]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "c847b714453f5812a221ad09a6cf2892d0432c4b",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    },
    {
      "submitRequirement": {
        "name": "Verified",
        "description": {
          "value": "CI result status for build and tests is passing"
        },
        "applicabilityExpression": {
          "value": {
            "expressionString": "-branch:refs/meta/config"
          }
        },
        "submittabilityExpression": {
          "expressionString": "label:Verified\u003dMAX AND -label:Verified\u003dMIN"
        },
        "overrideExpression": {},
        "allowOverrideInChildProjects": true
      },
      "applicabilityExpressionResult": {
        "value": {"expression":{"expressionString":"-branch:refs/meta/config"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":[],"failingAtoms":["branch:refs/meta/config"]}
      },
      "submittabilityExpressionResult": {
        "value": {"expression":{"expressionString":"label:Verified=MAX AND -label:Verified=MIN"},"status":"PASS","errorMessage":{"value":null},"passingAtoms":["label:Verified=MAX"],"failingAtoms":["label:Verified=MIN"]}
      },
      "overrideExpressionResult": {},
      "patchSetCommitId": "c847b714453f5812a221ad09a6cf2892d0432c4b",
      "legacy": {
        "value": false
      },
      "forced": {},
      "hidden": {}
    }
  ]
}