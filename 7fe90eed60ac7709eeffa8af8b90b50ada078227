{
  "comments": [
    {
      "key": {
        "uuid": "1545d7aa_ed108786",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/FanoutReplicationConfig.java",
        "patchSetId": 21
      },
      "lineNbr": 155,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-02T19:21:27Z",
      "side": 1,
      "message": "This needs to be conditioned by JGit config \u0027core.trustfolderstat\u0027 \u003d\u003d false.\nIf we trust the folder stats, then having the snapshot of the directory should be good enough.",
      "revId": "7fe90eed60ac7709eeffa8af8b90b50ada078227",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0bfad8e2_18d08268",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/FanoutReplicationConfig.java",
        "patchSetId": 21
      },
      "lineNbr": 155,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-04-02T19:51:44Z",
      "side": 1,
      "message": "According to Matthias comment we can trust the folder stats only when files are immutable which is true for JGit but not for config files:\nOn a directory locking isn\u0027t possible. And the directory lastModified timestamp\ncan only detect if the list of contained files changed (file added,removed or renamed) but it cannot detect if content of\nany of the contained files was modified which only changes lastModified of\nthe modified file but not the lastModified of the parent directory. I am not\nsure which type of modifications you are looking for.",
      "parentUuid": "1545d7aa_ed108786",
      "revId": "7fe90eed60ac7709eeffa8af8b90b50ada078227",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4e62e14d_ccb9ee06",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/FanoutReplicationConfig.java",
        "patchSetId": 21
      },
      "lineNbr": 155,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-02T20:50:48Z",
      "side": 1,
      "message": "\u003e According to Matthias comment we can trust the folder stats only when files are immutable which is true for JGit\n\nTrue, point taken.",
      "parentUuid": "0bfad8e2_18d08268",
      "revId": "7fe90eed60ac7709eeffa8af8b90b50ada078227",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d5a5a5c8_848e8a8f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/FanoutReplicationConfig.java",
        "patchSetId": 21
      },
      "lineNbr": 155,
      "author": {
        "id": 1004034
      },
      "writtenOn": "2020-04-02T23:31:34Z",
      "side": 1,
      "message": "JGit\u0027s core.trustfolderstat option can be set to false if you don\u0027t want to rely on timestamps\ne.g. on NFS were client caching may fudge timestamp comparisons if multiple machines each using\na different NFS client access the same repository accessed via NFS.",
      "parentUuid": "4e62e14d_ccb9ee06",
      "revId": "7fe90eed60ac7709eeffa8af8b90b50ada078227",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "05f6bfce_2d3e5996",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/FanoutReplicationConfig.java",
        "patchSetId": 21
      },
      "lineNbr": 158,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-04-02T19:21:27Z",
      "side": 1,
      "message": "I guess here we would need also to filter only the configuration files, is that correct?\nSomething like:\n\n  .filter(f -\u003e f.getName().endsWith(\".config\"))",
      "revId": "7fe90eed60ac7709eeffa8af8b90b50ada078227",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bfce5dd3_65c97cc2",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/FanoutReplicationConfig.java",
        "patchSetId": 21
      },
      "lineNbr": 158,
      "author": {
        "id": 1083454
      },
      "writtenOn": "2020-04-02T19:57:06Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "05f6bfce_2d3e5996",
      "revId": "7fe90eed60ac7709eeffa8af8b90b50ada078227",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}