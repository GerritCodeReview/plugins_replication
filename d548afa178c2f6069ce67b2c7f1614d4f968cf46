{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3994835d_0b5d6602",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/RefReplicatedEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-07-23T16:41:41Z",
      "side": 1,
      "message": "nit: would probably consider moving it to the common class so that it gets removed with from both classes if/when it is a time to do so ;)",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 28,
        "endChar": 45
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ca3b52b_25081642",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/RefReplicatedEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-26T09:37:20Z",
      "side": 1,
      "message": "Since it is deprecated I believe it should NOT maintained and adapted, but rather removed, when time arises (not sure what\u0027s the convention for deprecated fields sticking around?).\n\nThat\u0027s why I left it there.\n\nWDYT?",
      "parentUuid": "3994835d_0b5d6602",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 28,
        "endChar": 45
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "237986c0_51099e31",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/RefReplicatedEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-07-26T19:58:53Z",
      "side": 1,
      "message": "I think this can actually be removed at any time now. It was released in 3.4 as deprecated: https://gerrit-review.googlesource.com/c/plugins/replication/+/294682\n\nMaybe remove it in a parent of this change so we don\u0027t have to figure out what to do with it? I think it just needs an entry in the 3.5 release notes (homepage repo).",
      "parentUuid": "0ca3b52b_25081642",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 28,
        "endChar": 45
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5468129d_5527e391",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/RefReplicatedEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-27T15:45:39Z",
      "side": 1,
      "message": "We know at least of one client that will be broken [1] (as you mentioned in [2]).\n\nThis change\u0027s only intention is to change the internal hierarchy of the events and I believe it\u0027s unrelated to the (arguably farther-reaching) task of removing that field.\n\nI believe this intention can be fulfilled without the need of addressing the removal of the deprecated field.\n\nI have created separate a monorail issue for that [3]\n\n[1] https://github.com/sonyxperiadev/gerrit-events/blob/d15f38adc7ea90a98486dbe0df01d31335aaa3af/src/main/java/com/sonymobile/tools/gerrit/gerritevents/dto/events/RefReplicated.java\n[2] https://gerrit-review.googlesource.com/c/modules/events-broker/+/312853\n[3] https://bugs.chromium.org/p/gerrit/issues/detail?id\u003d14825",
      "parentUuid": "237986c0_51099e31",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 28,
        "endChar": 45
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9058dad_cfcc1e33",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/RefReplicatedEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2021-07-28T08:00:06Z",
      "side": 1,
      "message": "+1 the removal of the deprecated field should be a separate change with a separate discussion IMHO.",
      "parentUuid": "5468129d_5527e391",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 28,
        "endChar": 45
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e34b6050_d84edcfe",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/RefReplicatedEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-07-28T08:13:19Z",
      "side": 1,
      "message": "+1 for that part let\u0027s not mess with deprecated fields in this change so that the scope is cleaner.",
      "parentUuid": "a9058dad_cfcc1e33",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 28,
        "endChar": 45
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "824cb8ae_bc3e5698",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/RefReplicatedEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-07-28T15:18:39Z",
      "side": 1,
      "message": "I completely agree it shouldn\u0027t be this change. If you read my comment, I suggested \"Maybe remove it in a parent of this change\". I don\u0027t really care if it gets removed now or later, just wanted to offer it as a way around the conflict of whether the field should move with the refactor or stay in the current classes. If you delete it in the change before this, then there\u0027s no problem here refactoring the rest.\n\nAnd yes, that client will end up broken, but not until they use a version without this field (likely 3.5 in Q4 unless someone is using that client against a tip version of Gerrit). Thanks for the bug to track it.",
      "parentUuid": "e34b6050_d84edcfe",
      "range": {
        "startLine": 28,
        "startChar": 2,
        "endLine": 28,
        "endChar": 45
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee7fd9ec_025eda40",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/RemoteReplicationRefEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-07-23T16:41:41Z",
      "side": 1,
      "message": "nit: they used to be `public final` so that public getters were not needed",
      "range": {
        "startLine": 24,
        "startChar": 2,
        "endLine": 27,
        "endChar": 25
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "916328bb_dbb6e5d1",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/RemoteReplicationRefEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 27,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-26T09:37:20Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "ee7fd9ec_025eda40",
      "range": {
        "startLine": 24,
        "startChar": 2,
        "endLine": 27,
        "endChar": 25
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bc24dc1_631789d1",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/ReplicationScheduledEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-07-23T16:41:41Z",
      "side": 1,
      "message": "nit: probably worth mentioning in commit message as it wasn\u0027t here before ;)",
      "range": {
        "startLine": 43,
        "startChar": 2,
        "endLine": 67,
        "endChar": 3
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5336031f_26819aca",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/ReplicationScheduledEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-07-26T07:55:50Z",
      "side": 1,
      "message": "why it wasnâ€™t there before? was it just missing? if so shall we keep it in a separate change since it does t look to be part of the refactoring , right ?",
      "parentUuid": "0bc24dc1_631789d1",
      "range": {
        "startLine": 43,
        "startChar": 2,
        "endLine": 67,
        "endChar": 3
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6706c04c_0bae536c",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/ReplicationScheduledEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-26T09:37:20Z",
      "side": 1,
      "message": "This is simply needed to satisfy the equality check in the test[1], so it needs to be part of this change. it is quite common to override `equals`, to allow comparison of objects in the tests. We do it for all other events as well, just this one didn\u0027t have any equality test before I introduced one.\n\n@Jacek I would rather not mention this in the commit message, unless you feel strongly about it. I don\u0027t think explains any better why the change was made.\n\n@Ponch? @Jacek?\n\n[1]https://gerrit.googlesource.com/plugins/replication/+/refs/changes/02/312802/2/src/test/java/com/googlesource/gerrit/plugins/replication/ReplicationEventsIT.java#335",
      "parentUuid": "5336031f_26819aca",
      "range": {
        "startLine": 43,
        "startChar": 2,
        "endLine": 67,
        "endChar": 3
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83631666_7fa832a5",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/ReplicationScheduledEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1054778
      },
      "writtenOn": "2021-07-26T09:51:59Z",
      "side": 1,
      "message": "Sounds ok to me, not big deal leaving it here",
      "parentUuid": "6706c04c_0bae536c",
      "range": {
        "startLine": 43,
        "startChar": 2,
        "endLine": 67,
        "endChar": 3
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32774b44_3bdc3bbe",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/ReplicationScheduledEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-07-26T19:58:53Z",
      "side": 1,
      "message": "\u003e This is simply needed to satisfy the equality check in the test[1], so it needs to be part of this change. it is quite common to override `equals`, to allow comparison of objects in the tests. We do it for all other events as well, just this one didn\u0027t have any equality test before I introduced one.\n\nIf that\u0027s being done for the other events I think that\u0027s a bug. We shouldn\u0027t have code used just for tests in the non-test codebase. In other places where tests have needed equals(), we\u0027ve added implementations directly in the tests. I think that\u0027s the appropriate thing to do here if there\u0027s no \"real\" need for equals().",
      "parentUuid": "83631666_7fa832a5",
      "range": {
        "startLine": 43,
        "startChar": 2,
        "endLine": 67,
        "endChar": 3
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd313e9b_bc4320f0",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/ReplicationScheduledEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1072905
      },
      "writtenOn": "2021-07-27T15:45:39Z",
      "side": 1,
      "message": "\u003e \u003e This is simply needed to satisfy the equality check in the test[1], so it needs to be part of this change. it is quite common to override `equals`, to allow comparison of objects in the tests. We do it for all other events as well, just this one didn\u0027t have any equality test before I introduced one.\n\u003e \n\u003e If that\u0027s being done for the other events I think that\u0027s a bug. We shouldn\u0027t have code used just for tests in the non-test codebase. In other places where tests have needed equals(), we\u0027ve added implementations directly in the tests.\n\u003e I think that\u0027s the appropriate thing to do here if there\u0027s no \"real\" need for equals().\n\nYes, I\u0027d be happy too if we could remove the need for that.\nI don\u0027t like the alternatives either though, such as reflection, mockito, or field-by-field comparison.\n\nCould you point me to any of those cases where you added implementations directly in the tests, I couldn\u0027t find any? ðŸ˜•",
      "parentUuid": "32774b44_3bdc3bbe",
      "range": {
        "startLine": 43,
        "startChar": 2,
        "endLine": 67,
        "endChar": 3
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d36b14c9_94c79f7f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/ReplicationScheduledEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-07-28T08:13:19Z",
      "side": 1,
      "message": "I understand the rationale for it now and IMHO it doesn\u0027t require the commit message entry.",
      "parentUuid": "bd313e9b_bc4320f0",
      "range": {
        "startLine": 43,
        "startChar": 2,
        "endLine": 67,
        "endChar": 3
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05cf1a6f_1bd711d7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/events/ReplicationScheduledEvent.java",
        "patchSetId": 2
      },
      "lineNbr": 67,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-07-28T15:18:39Z",
      "side": 1,
      "message": "It\u0027s the same field-by-field code that you have here, just moved to the test class. It was added in this change https://gerrit-review.googlesource.com/c/plugins/replication/+/276714 before we moved to auto-value in https://gerrit.googlesource.com/plugins/replication/+/63fb2b4ba85380d798acbdc076e8673353507569%5E%21/#F8",
      "parentUuid": "d36b14c9_94c79f7f",
      "range": {
        "startLine": 43,
        "startChar": 2,
        "endLine": 67,
        "endChar": 3
      },
      "revId": "d548afa178c2f6069ce67b2c7f1614d4f968cf46",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}