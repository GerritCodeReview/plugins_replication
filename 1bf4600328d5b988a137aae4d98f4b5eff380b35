{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2432cd45_f5376b31",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-10-11T20:59:03Z",
      "side": 1,
      "message": "Why do this split at the push level vs the scheduling layer? Otherwise it\u0027s going to be harder to see/realize that a given push is actually going to be N pushes by looking at the queue. Certainly there would be challenges to solve if you do it at the scheduling layer too, but I\u0027d be interested in seeing those tradeoffs compared.",
      "revId": "1bf4600328d5b988a137aae4d98f4b5eff380b35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69b2232e_7dc5ea2c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-10-11T21:33:55Z",
      "side": 1,
      "message": "I could be wrong but I wanted to avoid the costly `PushOne.generateUpdates(Transport)` operation being performed at schedule time... Plus it required less changes but that is not the deciding factor ;)",
      "parentUuid": "2432cd45_f5376b31",
      "revId": "1bf4600328d5b988a137aae4d98f4b5eff380b35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "410c483f_41a496c8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 10,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-10-13T17:05:50Z",
      "side": 1,
      "message": "Ok. Let me look at that code and comment there.",
      "parentUuid": "69b2232e_7dc5ea2c",
      "revId": "1bf4600328d5b988a137aae4d98f4b5eff380b35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4708f47_5d93dc8d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-10-11T20:59:03Z",
      "side": 1,
      "message": "What\u0027s the consideration of this as a replication global vs per-remote? #3 above is definitely a per-remote thing and perhaps #2 is as well.\n\nI think we could add per-remote later, so I don\u0027t think it\u0027s necessary in this change, but it may be worth considering how likely that is and therefore evaluate if the code is layered appropriately for that possibility.\n\nAlso, why is this \u0027pushBatchSize\u0027 vs \u0027batchSize\u0027? Replication is always pushing, so that seems redundant.",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 57
      },
      "revId": "1bf4600328d5b988a137aae4d98f4b5eff380b35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d055d90b_a9a7d232",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-10-11T21:33:55Z",
      "side": 1,
      "message": "Having it per remote sounds line an interesting improvement will think look around for the implementation details.\n\nIn terms of name I wanted to be explicit about what it refers to but I have no strong opinion about it so let others say what they think too ;)",
      "parentUuid": "d4708f47_5d93dc8d",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 57
      },
      "revId": "1bf4600328d5b988a137aae4d98f4b5eff380b35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c4ea0045_cb626d0c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 22,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-10-13T17:05:50Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "d055d90b_a9a7d232",
      "range": {
        "startLine": 22,
        "startChar": 37,
        "endLine": 22,
        "endChar": 57
      },
      "revId": "1bf4600328d5b988a137aae4d98f4b5eff380b35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "10495d7c_5c083b23",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/ReplicationPushInBatchesIT.java",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-10-11T20:59:03Z",
      "side": 1,
      "message": "missing license header",
      "revId": "1bf4600328d5b988a137aae4d98f4b5eff380b35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e7350b39_ebd8ceab",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/ReplicationPushInBatchesIT.java",
        "patchSetId": 3
      },
      "lineNbr": 1,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-10-11T21:33:55Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "10495d7c_5c083b23",
      "revId": "1bf4600328d5b988a137aae4d98f4b5eff380b35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5df34b07_df102bef",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/ReplicationPushInBatchesIT.java",
        "patchSetId": 3
      },
      "lineNbr": 24,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2021-10-11T21:33:55Z",
      "side": 1,
      "message": "I was not able to add test in `ReplicationIT.java` without adding configuration in `setUpTestPlugin` - neither setting it in test method (followed by the `reploadConfig()`) or through GlobalPluginConfig (annotation for method) was not working - I guess it is a replication plugin specific thing... Considering that I wanted to have IT tests for both cases (when pushBatchSize is set or not) I have decided to introduce a dedicated file...",
      "range": {
        "startLine": 24,
        "startChar": 4,
        "endLine": 24,
        "endChar": 54
      },
      "revId": "1bf4600328d5b988a137aae4d98f4b5eff380b35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5a9c8147_753c89f5",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/replication/ReplicationPushInBatchesIT.java",
        "patchSetId": 3
      },
      "lineNbr": 24,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2021-10-13T17:05:50Z",
      "side": 1,
      "message": "That shouldn\u0027t be the case. Plenty of other tests change configs that are reloadable. Is this config expected to be reloadable?",
      "parentUuid": "5df34b07_df102bef",
      "range": {
        "startLine": 24,
        "startChar": 4,
        "endLine": 24,
        "endChar": 54
      },
      "revId": "1bf4600328d5b988a137aae4d98f4b5eff380b35",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}