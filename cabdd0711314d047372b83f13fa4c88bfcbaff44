{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "787017c1_d0771136",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-10-05T21:14:36Z",
      "side": 1,
      "message": "Has anyone bisected to see when the flakiness appeared? If this problem hasn\u0027t changed since we discussed in Slack, then I224c2ce2a35f987af2343089b9bb00a7fcb7e3be was the only functional change before tests became flaky.\n\nI think it\u0027s risky to flag tests as flaky on a stable branch and would much prefer a fix.",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 13,
        "endChar": 32
      },
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b61f30bd_9e3063d5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-10-05T21:19:20Z",
      "side": 1,
      "message": "\u003e Has anyone bisected to see when the flakiness appeared? If this problem hasn\u0027t changed since we discussed in Slack, then I224c2ce2a35f987af2343089b9bb00a7fcb7e3be was the only functional change before tests became flaky.\n\nCan you guys do a bisect and provide a fix?\n\n\u003e I think it\u0027s risky to flag tests as flaky on a stable branch and would much prefer a fix.\n\nAgreed, I\u0027ll keep this change as-is for another 12h, to see if a fix can be found. In the meantime, we need to resume the Gerrit builds stability, as they are randomly failing at the moment.",
      "parentUuid": "787017c1_d0771136",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 13,
        "endChar": 32
      },
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a6357a5_a0ec1613",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-10-05T21:24:55Z",
      "side": 1,
      "message": "\u003e \u003e Has anyone bisected to see when the flakiness appeared? If this problem hasn\u0027t changed since we discussed in Slack, then I224c2ce2a35f987af2343089b9bb00a7fcb7e3be was the only functional change before tests became flaky.\n\u003e \n\u003e Can you guys do a bisect and provide a fix?\n\nI don\u0027t have the history on when builds became flaky and it looks like maybe that\u0027s not available in Jenkins now? I also wasn\u0027t involved in I224c2ce2a35f987af2343089b9bb00a7fcb7e3be. Maybe Saša, Matthias and you could look at it?\n\n\u003e \n\u003e \u003e I think it\u0027s risky to flag tests as flaky on a stable branch and would much prefer a fix.\n\u003e \n\u003e Agreed, I\u0027ll keep this change as-is for another 12h, to see if a fix can be found. In the meantime, we need to resume the Gerrit builds stability, as they are randomly failing at the moment.\n\nI haven\u0027t seen builds failing flakily on replication changes on any branch. I would not consider a test flaky unless you\u0027ve analyzed it to be certain the code is working.",
      "parentUuid": "b61f30bd_9e3063d5",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 13,
        "endChar": 32
      },
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ac307a2_4f4736bb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-10-05T21:37:03Z",
      "side": 1,
      "message": "\u003e \u003e \u003e Has anyone bisected to see when the flakiness appeared? If this problem hasn\u0027t changed since we discussed in Slack, then I224c2ce2a35f987af2343089b9bb00a7fcb7e3be was the only functional change before tests became flaky.\n\u003e \u003e \n\u003e \u003e Can you guys do a bisect and provide a fix?\n\u003e \n\u003e I don\u0027t have the history on when builds became flaky and it looks like maybe that\u0027s not available in Jenkins now? I also wasn\u0027t involved in I224c2ce2a35f987af2343089b9bb00a7fcb7e3be. Maybe Saša, Matthias and you could look at it?\n\u003e \n\u003e \u003e \n\u003e \u003e \u003e I think it\u0027s risky to flag tests as flaky on a stable branch and would much prefer a fix.\n\u003e \u003e \n\u003e \u003e Agreed, I\u0027ll keep this change as-is for another 12h, to see if a fix can be found. In the meantime, we need to resume the Gerrit builds stability, as they are randomly failing at the moment.\n\u003e \n\u003e I haven\u0027t seen builds failing flakily on replication changes on any branch. I would not consider a test flaky unless you\u0027ve analyzed it to be certain the code is working.\n\nSee [1].",
      "parentUuid": "0a6357a5_a0ec1613",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 13,
        "endChar": 32
      },
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc4f1712_0c88340b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-10-05T21:40:48Z",
      "side": 1,
      "message": "\u003e \u003e \u003e \u003e Has anyone bisected to see when the flakiness appeared? If this problem hasn\u0027t changed since we discussed in Slack, then I224c2ce2a35f987af2343089b9bb00a7fcb7e3be was the only functional change before tests became flaky.\n\u003e \u003e \u003e \n\u003e \u003e \u003e Can you guys do a bisect and provide a fix?\n\u003e \u003e \n\u003e \u003e I don\u0027t have the history on when builds became flaky and it looks like maybe that\u0027s not available in Jenkins now? I also wasn\u0027t involved in I224c2ce2a35f987af2343089b9bb00a7fcb7e3be. Maybe Saša, Matthias and you could look at it?\n\u003e \u003e \n\u003e \u003e \u003e \n\u003e \u003e \u003e \u003e I think it\u0027s risky to flag tests as flaky on a stable branch and would much prefer a fix.\n\u003e \u003e \u003e \n\u003e \u003e \u003e Agreed, I\u0027ll keep this change as-is for another 12h, to see if a fix can be found. In the meantime, we need to resume the Gerrit builds stability, as they are randomly failing at the moment.\n\u003e \u003e \n\u003e \u003e I haven\u0027t seen builds failing flakily on replication changes on any branch. I would not consider a test flaky unless you\u0027ve analyzed it to be certain the code is working.\n\u003e \n\u003e See [1].\n\nI don\u0027t see any analysis there. Did I miss it?",
      "parentUuid": "3ac307a2_4f4736bb",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 13,
        "endChar": 32
      },
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08e50844_c56e4760",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-10-05T21:46:06Z",
      "side": 1,
      "message": "\u003e \u003e \u003e \u003e \u003e Has anyone bisected to see when the flakiness appeared? If this problem hasn\u0027t changed since we discussed in Slack, then I224c2ce2a35f987af2343089b9bb00a7fcb7e3be was the only functional change before tests became flaky.\n\u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e Can you guys do a bisect and provide a fix?\n\u003e \u003e \u003e \n\u003e \u003e \u003e I don\u0027t have the history on when builds became flaky and it looks like maybe that\u0027s not available in Jenkins now? I also wasn\u0027t involved in I224c2ce2a35f987af2343089b9bb00a7fcb7e3be. Maybe Saša, Matthias and you could look at it?\n\u003e \u003e \u003e \n\u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e \u003e I think it\u0027s risky to flag tests as flaky on a stable branch and would much prefer a fix.\n\u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e Agreed, I\u0027ll keep this change as-is for another 12h, to see if a fix can be found. In the meantime, we need to resume the Gerrit builds stability, as they are randomly failing at the moment.\n\u003e \u003e \u003e \n\u003e \u003e \u003e I haven\u0027t seen builds failing flakily on replication changes on any branch. I would not consider a test flaky unless you\u0027ve analyzed it to be certain the code is working.\n\u003e \u003e \n\u003e \u003e See [1].\n\u003e \n\u003e I don\u0027t see any analysis there. Did I miss it?\n\nIt is in the log:\n\n  00:20:43 FLAKY: //plugins/replication:replication_tests (Summary)\n  00:20:43       /home/jenkins/.cache/bazel/_bazel_jenkins/c03ce89e2efb7f8a9e056d18c3ea184b/execroot/gerrit/bazel-out/k8-fastbuild/testlogs/plugins/replication/replication_tests/test_attempts/attempt_1.log\n\nI believe Bazel is able automatically to detect flakiness by running the same test multiple times.\n\nFrom the analysis of the rest of the logs you can get more information about the flakiness.",
      "parentUuid": "bc4f1712_0c88340b",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 13,
        "endChar": 32
      },
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69e91306_33460c5f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-10-05T21:52:31Z",
      "side": 1,
      "message": "\u003e \u003e \u003e \u003e \u003e \u003e Has anyone bisected to see when the flakiness appeared? If this problem hasn\u0027t changed since we discussed in Slack, then I224c2ce2a35f987af2343089b9bb00a7fcb7e3be was the only functional change before tests became flaky.\n\u003e \u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e \u003e Can you guys do a bisect and provide a fix?\n\u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e I don\u0027t have the history on when builds became flaky and it looks like maybe that\u0027s not available in Jenkins now? I also wasn\u0027t involved in I224c2ce2a35f987af2343089b9bb00a7fcb7e3be. Maybe Saša, Matthias and you could look at it?\n\u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e \u003e \u003e I think it\u0027s risky to flag tests as flaky on a stable branch and would much prefer a fix.\n\u003e \u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e \u003e Agreed, I\u0027ll keep this change as-is for another 12h, to see if a fix can be found. In the meantime, we need to resume the Gerrit builds stability, as they are randomly failing at the moment.\n\u003e \u003e \u003e \u003e \n\u003e \u003e \u003e \u003e I haven\u0027t seen builds failing flakily on replication changes on any branch. I would not consider a test flaky unless you\u0027ve analyzed it to be certain the code is working.\n\u003e \u003e \u003e \n\u003e \u003e \u003e See [1].\n\u003e \u003e \n\u003e \u003e I don\u0027t see any analysis there. Did I miss it?\n\u003e \n\u003e It is in the log:\n\u003e \n\u003e   00:20:43 FLAKY: //plugins/replication:replication_tests (Summary)\n\u003e   00:20:43       /home/jenkins/.cache/bazel/_bazel_jenkins/c03ce89e2efb7f8a9e056d18c3ea184b/execroot/gerrit/bazel-out/k8-fastbuild/testlogs/plugins/replication/replication_tests/test_attempts/attempt_1.log\n\u003e \n\u003e I believe Bazel is able automatically to detect flakiness by running the same test multiple times.\n\u003e \n\u003e From the analysis of the rest of the logs you can get more information about the flakiness.\n\nSorry, I meant analysis of test vs actual replication plugin code. i.e. is the feature flaky or the test flaky? That requires a human to determine I believe.",
      "parentUuid": "08e50844_c56e4760",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 13,
        "endChar": 32
      },
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6283e824_0f8a91e9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-10-08T14:05:13Z",
      "side": 1,
      "message": "The flakiness is getting reported also by other devs on the mailing list (see [2]) but on different branches. It could be either a \"flaky feature\" of a \"flaky test\", we don\u0027t know yet. We only know that some of the tests are randomly failing, as highlighted in the build log.\n\n[2] https://groups.google.com/g/repo-discuss/c/80NVeCAi9MY/m/RkXBZClMAAAJ",
      "parentUuid": "69e91306_33460c5f",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 13,
        "endChar": 32
      },
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6bdfc69e_198a9e6b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 13,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-10-08T16:52:18Z",
      "side": 1,
      "message": "My recommendation is still to bisect and determine what introduced flakiness on 2.16.",
      "parentUuid": "6283e824_0f8a91e9",
      "range": {
        "startLine": 12,
        "startChar": 0,
        "endLine": 13,
        "endChar": 32
      },
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "03e62d42_9fbde7d7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1012732
      },
      "writtenOn": "2020-10-05T20:24:54Z",
      "side": 1,
      "message": "@Luca, letting you decide if you\u0027d like more reviews before submitting; approving meanwhile.",
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "adcfb936_70e1fd45",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-10-05T20:30:02Z",
      "side": 1,
      "message": "Let\u0027s wait for a couple more hours for extra reviews.",
      "revId": "cabdd0711314d047372b83f13fa4c88bfcbaff44",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}