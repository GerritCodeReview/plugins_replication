{
  "comments": [
    {
      "key": {
        "uuid": "bfc24ad9_6d2cfaac",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1002666
      },
      "writtenOn": "2020-08-19T22:56:40Z",
      "side": 1,
      "message": "Any reason this shouldn\u0027t get submitted?",
      "revId": "3c764785b62efea8038650dc6d2f7cb8d740972c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e186ffa4_3cc38ade",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 8
      },
      "lineNbr": 0,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2020-08-19T23:47:54Z",
      "side": 1,
      "message": "Was this tested to see if it solves the bug?",
      "revId": "3c764785b62efea8038650dc6d2f7cb8d740972c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fd1b8145_0682ee36",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/ReplicationQueue.java",
        "patchSetId": 8
      },
      "lineNbr": 102,
      "author": {
        "id": 1003883
      },
      "writtenOn": "2020-08-19T23:54:09Z",
      "side": 1,
      "message": "FYI, be aware that when attempting to merge this to 3.1 it will likely allow the server to startup, but then still hold up the replication plugin from doing anything because almost all the methods in the ReplicationTasksStorage class are synchronized. In particular list() is synchronized which means that this thread will then hold a lock on that Class until it is done.",
      "range": {
        "startLine": 102,
        "startChar": 34,
        "endLine": 102,
        "endChar": 51
      },
      "revId": "3c764785b62efea8038650dc6d2f7cb8d740972c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "72689512_2dc28ec4",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/replication/ReplicationQueue.java",
        "patchSetId": 8
      },
      "lineNbr": 102,
      "author": {
        "id": 1003873
      },
      "writtenOn": "2020-08-20T11:41:03Z",
      "side": 1,
      "message": "The ReplicationTaskStorage has no synchronization in stable-2.16.\nAs I see, synchronization is introduced in stable-3.1 in this [1] change.\nI don\u0027t know if synchronization was the only way to resolve the issues\nlisted in the commit message of [1]. Luca?\n\nBtw, your change [2] you introduces another method for fetching all stored\ntasks: streamWaiting, which is not synchronized. Considering that most of\nother methods are synchronized we need to understand how does this relate\nto the issues described in the commit message of [1].\n\n[1] https://gerrit-review.googlesource.com/c/plugins/replication/+/247792\n[2] https://gerrit-review.googlesource.com/c/plugins/replication/+/267812",
      "parentUuid": "fd1b8145_0682ee36",
      "range": {
        "startLine": 102,
        "startChar": 34,
        "endLine": 102,
        "endChar": 51
      },
      "revId": "3c764785b62efea8038650dc6d2f7cb8d740972c",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": true
    }
  ]
}