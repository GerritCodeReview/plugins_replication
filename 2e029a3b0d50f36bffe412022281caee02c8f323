{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "549594e0_76091ed7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 23,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2020-11-04T12:08:14Z",
      "side": 1,
      "message": "That is in fact the feature that Digital.ai (former CollabNet) has built the solution upon and as long as there are no means to circumvent it (see changes mentioned in [1]) I would prefer that this change is not merged.\n\n[1]\nhttps://gerrit-review.googlesource.com/c/plugins/replication/+/286782",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 23,
        "endChar": 6
      },
      "revId": "2e029a3b0d50f36bffe412022281caee02c8f323",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5bfab6c_be20974d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 23,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-11-04T12:13:37Z",
      "side": 1,
      "message": "\u003e That is in fact the feature that Digital.ai (former CollabNet) has built the solution upon and as long as there are no means to circumvent it (see changes mentioned in [1]) I would prefer that this change is not merged.\n\u003e \n\u003e [1]\n\u003e https://gerrit-review.googlesource.com/c/plugins/replication/+/286782\n\nThanks for raising this up: does the feature work out of the box or does it require to have a modified version of Gerrit + replication plugin?",
      "parentUuid": "549594e0_76091ed7",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 23,
        "endChar": 6
      },
      "revId": "2e029a3b0d50f36bffe412022281caee02c8f323",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b121698f_db644e87",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 23,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2020-11-04T12:24:17Z",
      "side": 1,
      "message": "It requires both modified Gerrit and replication plugin due to the fact that we manage users outside of the Gerrit - replica can access the user base directly without the necessity of \u0027refs/users/*\u0027 being replicated or not ;) In fact it is better if those refs are actually not replicated as they may collide in certain cases :D\n\nHaving said that I don\u0027t believe that this change is fundamentally wrong if the others don\u0027t want to have that option. All we need though is to have a possibility to provide alternative to AdminApiFactory implementation which is done in the referenced change ;)",
      "parentUuid": "d5bfab6c_be20974d",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 23,
        "endChar": 6
      },
      "revId": "2e029a3b0d50f36bffe412022281caee02c8f323",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9911a7b4_45b29d0a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 23,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-11-04T12:34:05Z",
      "side": 1,
      "message": "\u003e It requires both modified Gerrit and replication plugin due to the fact that we manage users outside of the Gerrit - replica can access the user base directly without the necessity of \u0027refs/users/*\u0027 being replicated or not ;) In fact it is better if those refs are actually not replicated as they may collide in certain cases :D\n\nThanks for explaining the use-case.\n\n\u003e Having said that I don\u0027t believe that this change is fundamentally wrong if the others don\u0027t want to have that option. All we need though is to have a possibility to provide alternative to AdminApiFactory implementation which is done in the referenced change ;)\n\nIdea: why don\u0027t we keep the code, flag the GerritRestApi and GerritSshApi with @UsedAt(CollabNet) and remove the reference in the documentation?\nI believe at the moment it is misleading because people try to use that feature with a plain-vanilla Gerrit and then raise bugs that we would have to address or explain.\n\nWDYT?",
      "parentUuid": "b121698f_db644e87",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 23,
        "endChar": 6
      },
      "revId": "2e029a3b0d50f36bffe412022281caee02c8f323",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b84570b7_02a8d50e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 23,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2020-11-04T12:42:07Z",
      "side": 1,
      "message": "I think we should document, in the release-notes, that it doesn\u0027t work on stable-3.3, wouldn\u0027t hurt to add a small comment about it not working on vanilla Gerrit in the code also.\n\nOther than that it sounds like a good suggestion.",
      "parentUuid": "9911a7b4_45b29d0a",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 23,
        "endChar": 6
      },
      "revId": "2e029a3b0d50f36bffe412022281caee02c8f323",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd376cbb_2be52801",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 23,
      "author": {
        "id": 1025452
      },
      "writtenOn": "2020-11-04T13:08:26Z",
      "side": 1,
      "message": "Sounds like a plan to me too :) but we I would like to encourage you to review the referenced change (we keep maintaining it ourselves) as we need those APIs in a bit more extended fashion. Operation (add/remove repo) is being notified to the external system so what we typically do is extend e.g. GerritSshApi and add wrap existing methods with notification calls. IOW we still provide our own implementation of AdminApiFactory and considering the fact that by its nature (AdminApiFactory being a dynamic item) it is extendable it would be good to allow it to happen ;)",
      "parentUuid": "b84570b7_02a8d50e",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 23,
        "endChar": 6
      },
      "revId": "2e029a3b0d50f36bffe412022281caee02c8f323",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "980a67a0_0bda3c0c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 18
      },
      "lineNbr": 23,
      "author": {
        "id": 1006192
      },
      "writtenOn": "2020-11-05T22:31:14Z",
      "side": 1,
      "message": "@Jacek the latest PS18 should address your concerns, flagging also the REST/SSH API as CollabNet-specific.\n\nIt should now be fully compatible with your current fork, but without the documentation that could be misleading for the regular users.\n\nCan you double-check and resolve the comment if that is enough from your perspective?",
      "parentUuid": "cd376cbb_2be52801",
      "range": {
        "startLine": 21,
        "startChar": 0,
        "endLine": 23,
        "endChar": 6
      },
      "revId": "2e029a3b0d50f36bffe412022281caee02c8f323",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}